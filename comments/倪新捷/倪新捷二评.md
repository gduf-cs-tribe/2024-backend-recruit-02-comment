# 倪新捷

## 前言：

倪新捷师弟你好，很高兴见到你的考核，整体而言完成度较高，有亮点但是也有一些需要补足了解的点。整体的扩展性也很高，希望能在后端的路上接着看到你的身影。下面具体分析一下。

## 优点：

1. 用上了配置文件，但是其实路径也可以放到配置文件中，尽可能减少硬编码，不要在程序里直接写一个常量是一条比较常遵守的规范
2. 使用了日志logback，这点是比较好的，比较多的日志能够更加方便的排查问题，检验程序是否正常运行，变量是否正常赋予等等，可以直接决定修bug的效率
3. 比较积极的采用了异常处理，但是多层次的异常处理和过于简单的处理内容显得代码有些臃肿，不妨可以尝试一下利用throw把异常向上抛出(例如command抛给ServerReadThread再抛到Server进行处理（ServerReadThread到Server层可以再加一层专门用于配置，初始化，异常处理等等作用的操作）)

![img](https://pcn1gbta5bzn.feishu.cn/space/api/box/stream/download/asynccode/?code=NWY5M2M2OTA0NGY4MTZjOGUyOGEyNDUwNThkNmFjMDdfd3NwaW41d0pReXZ2cDdORE91SG5COUpRMkZtS0RBTGxfVG9rZW46RGFXUGJYalRqb1Q5RGZ4ZnU3VWNmM2w4bjRyXzE3NDU4NDA5OTc6MTc0NTg0NDU5N19WNA)

1. 封装分包分类较为完整且有逻辑，对象处理较好，对于一些空值有做处理（实际开发环境中后端是必须要进行参数校验的，因此这些也是比较重要的）

![img](https://pcn1gbta5bzn.feishu.cn/space/api/box/stream/download/asynccode/?code=NmI4OTMwMmY5MGJjZjczMTRmYWFlODQwNzRiNDI1ZTBfbWs3aE94UGZPeHVYNGR5dm5SdTBJQkZoQ3dvblVuTWZfVG9rZW46UEdvcWJXeE9Rb1h0YU54TEx4WGNOQllUblhlXzE3NDU4NDA5OTc6MTc0NTg0NDU5N19WNA)

## 其他分析：

1. 硬编码较多，具体为路径基本为硬编码，硬编码如果一旦多起来改起来会非常麻烦，所以强烈建议这类会反复使用的内容可以用一个枚举类型存储起来，或者是用一个Constants类存储起来，又或者直接写到配置文件里，直接解析配置文件就可以得到大部分消息

![img](https://pcn1gbta5bzn.feishu.cn/space/api/box/stream/download/asynccode/?code=MWNmZTc4MzkwNzJiYTg1ZmRmOWI0ZTMwMjUyZDFiNjFfOFh5OHNhM0FOMFdwZ3FjWTkzV3lBZklZS2FSYlpaYldfVG9rZW46UzhESWI1Rjlib0Z5ZFV4Y25pSGNhcWtUbmxkXzE3NDU4NDA5OTc6MTc0NTg0NDU5N19WNA)

1. 虽说使用了日志，但是应用仍然不多，只用在了报错和连接ip上，其实是有点浪费的，不妨可以尝试一下再记录一下从哪个客户端传入什么指令，对数据库又进行了什么操作等等（一个数据库扩大起来肯定必须要考虑的就是安全管理和记录管理，一方面留下这些记录在一些情况下也可以用于复原（再往上扩展可以把报错日志，连接日志，操作日志再分到不同的文件进行管理，结构会更清晰一些））。

![img](https://pcn1gbta5bzn.feishu.cn/space/api/box/stream/download/asynccode/?code=NzU3YmNkZWZlOGNjNzUxYWY0YWU1MDgyZTZhOGI2M2RfY3phUEpZWFpuNTNDRDVWTVF5eG5jZjhZaHR2QU5reExfVG9rZW46VTJ1ZGJsVUVvbzA5czd4eGRub2NlbjgybmhlXzE3NDU4NDA5OTc6MTc0NTg0NDU5N19WNA)

1. 线程问题：这里我看到在多线程接收不同客户端的同时，每个客户端每次接收命令又开了多个线程，多线程诚然能够在硬件允许的情况下提高运行效率，但是同时也会挤占更多的资源，越大的数据库也要考虑这点，另外，不断的开线程是需要警惕的，如果大量线程不经管理生产销毁，最终会造成更大的性能开销，导致性能下降。总之，多线程的使用是需要经过考虑的，像需要接收不同客户端的场景而言，多个线程就是必要的，能够大量增加系统的可用性，但是在不必要的地方大量开线程又不进行管理是很危险的。 可以尝试设置线程的最大值，生产销毁相关逻辑的内容（感兴趣的话可以了解看看线程池的概念和原理）

![img](https://pcn1gbta5bzn.feishu.cn/space/api/box/stream/download/asynccode/?code=YzY2ZjVjZTI4MDE4NWFjOTA1ODkyMjgxZjA2YjRkZjRfU0FEM2J2UXFmaUZNc1VFa3RPUUl4R0dLQ2JZZk1ua1lfVG9rZW46RDFDZWJHSmRab2V6dDV4NlVSMGNQQ3RWblNiXzE3NDU4NDA5OTc6MTc0NTg0NDU5N19WNA)

1. 看到命令的判别基本实现形式为用switch进行切换，但其实这种写法是有些臃肿的，在代码量少的时候这样写问题不大，但是代码量大起来例如300多条命令，维护起来就会变得很麻烦，建议师弟可以了解一下设计模式，类如工厂模式，看起来会更优雅一些

![img](https://pcn1gbta5bzn.feishu.cn/space/api/box/stream/download/asynccode/?code=YzQxYjJmZWE3NWMwZWRhYmY0Yjc0MTBiNGRlNzRhMTNfeHE0Zzl1bzNxcWF3UGNRZGxrTjZoazN6WHlFYk5ySWpfVG9rZW46TVRheWJ4Tnhrb1NvTW54cXltaGNBVE9TbjRkXzE3NDU4NDA5OTc6MTc0NTg0NDU5N19WNA)

## 总评与学习建议：

师弟总体考核的情况是可以的，可以看到师弟对于考核确实付出了努力，对于git和md的使用也有了基本的了解，这是比较好的一点。后续可以考虑学习设计模式或者学一下javaweb相关的内容，可以规范自己的代码与实践产出，有什么问题都可以在群里直接问或者请教师兄师姐们，希望下次也能看到你提交的考核！

- 可以考虑学习一下设计模式等内容，最经常用的单例模式和工厂模式需要理解
- 建议可以了解一下线程池的原理，概念和使用，了解一下线程如何进行管理
- 如果考虑继续走java路线，可以往上学一下javaweb，这些是应用层面的东西
- 可以具体拓展一下配置文件的使用，常量类的配置